<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>Gender Square</title><link rel="icon" href="https://bbrk24.github.io/gender-square/favicon.2f1c96b9.ico"><meta name="author" content="bbrk24"><meta name="viewport" content="width=device-width, initial-scale=1.0"><script src="https://bbrk24.github.io/gender-square/index.0b418701.js"></script><script src="https://bbrk24.github.io/gender-square/index.7f168407.js"></script><style>body{overflow:hidden}input,textarea{font-size:1rem}.visible{visibility:visible;opacity:1}.hidden{visibility:hidden;opacity:0;transition:visibility 0s 2s,opacity 2s linear}#url{width:fit-content;max-width:calc(100vw - 32px);background-color:#d3d3d3;border:none;border-radius:5px;margin-top:5px;padding:5px;font-family:Courier New,Courier,monospace}#square{background-image:url(gradient.973cf90d.png);background-size:100%}#tension{min-width:2em}#url-button{margin-top:1em}</style></head><body> <div id="wrapper"></div> <div> <div> <button onclick="removePoint()">-</button> Points: <span id="point-count"></span> <button onclick="addPoint()">+</button> </div> <div> <label for="tension">Tension:</label> <input type="number" min="0" max="1" id="tension"> </div> <div> <button id="url-button" onclick="saveURL()">Generate URL</button> <br> <textarea onclick="copyURL()" readonly hidden id="url"></textarea> <p id="copied-text" class="hidden">Copied!</p> </div> </div> <script>const e=document.getElementById("point-count"),t=document.getElementById("tension"),n=document.getElementById("url"),o=document.getElementById("copied-text"),i=new GenderSquare({superElement:"#wrapper",showPoints:!0,size:320});let s=-1;function l(e){const t=i.element.getBoundingClientRect();let n,o;var s,l;e.touches&&e.touches.length>1?(n=NaN,o=NaN):(n=(null!==(s=e.clientX)&&void 0!==s?s:e.touches[0].clientX)-t.left,o=(null!==(l=e.clientY)&&void 0!==l?l:e.touches[0].clientY)-t.top);return{x:n,y:o}}window.addPoint=()=>{i.points.push(160,160),e.textContent++,i.redraw()},window.removePoint=()=>{i.points.pop(),i.points.pop(),e.textContent=String(i.points.length/2),i.redraw()},i.element.ontouchstart=i.element.onmousedown=e=>{const t=l(e);s=function(e,t){for(let n=0;n<i.points.length;n+=2)if(Math.abs(i.points[n]-e)<=12&&Math.abs(i.points[n+1]-t)<=12)return n;return-1}(t.x,t.y)},i.element.ontouchmove=i.element.onmousemove=e=>{if(-1!==s){const t=l(e);i.points[s]=t.x,i.points[s+1]=t.y,i.redraw()}},window.ontouchend=window.onmouseup=()=>s=-1,t.oninput=e=>{i.tension=+e.target.value,i.redraw()},window.saveURL=()=>{const e=`${location.href.split("?")[0]}?s=${i.saveData()}`;history.pushState({},"",e),n.value=e,n.cols=e.length,n.hidden=!1},window.copyURL=()=>{var e;null===(e=n.setSelectionRange)||void 0===e||e.call(n,0,n.value.length),navigator.clipboard.writeText(n.value),o.className="visible",setTimeout((()=>o.className="hidden"))},function(){const n=new URLSearchParams(location.search);i.loadData(n.get("s")||"KK1K11"),e.textContent=String(i.points.length/2),t.value=i.tension}(),i.redraw();</script> </body></html>